{"remainingRequest":"C:\\Users\\Lucas Dickson\\Downloads\\CytoVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lucas Dickson\\Downloads\\CytoVue\\src\\components\\CytoscapeGraph.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lucas Dickson\\Downloads\\CytoVue\\src\\components\\CytoscapeGraph.vue","mtime":1636564371154},{"path":"C:\\Users\\Lucas Dickson\\Downloads\\CytoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lucas Dickson\\Downloads\\CytoVue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lucas Dickson\\Downloads\\CytoVue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Lucas Dickson\\Downloads\\CytoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lucas Dickson\\Downloads\\CytoVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYWdyZSBmcm9tICJjeXRvc2NhcGUtZGFncmUiOwppbXBvcnQgY3h0bWVudSBmcm9tICJjeXRvc2NhcGUtY3h0bWVudSI7CmltcG9ydCBlZGdlaGFuZGxlcyBmcm9tICJjeXRvc2NhcGUtZWRnZWhhbmRsZXMiOwppbXBvcnQgbmF2aWdhdG9yIGZyb20gImN5dG9zY2FwZS1uYXZpZ2F0b3IiOwppbXBvcnQgcGFuem9vbSBmcm9tICJjeXRvc2NhcGUtcGFuem9vbSI7CmltcG9ydCBNWV9KU09OIGZyb20gJy4uL3Rlc3RfZGF0YS9kYXRhX2xvd2VzLmpzb24nOwppbXBvcnQgeyBqc29uRGF0YSB9IGZyb20gIi4uL2RhdGEvZGF0YSIKaW1wb3J0IHsgc2VsZWN0ZWROb2RlIH0gZnJvbSAiLi4vZGF0YS9zZWxlY3RlZCIKLy9pbXBvcnQgeyBnZW4gfSBmcm9tICIuLi9kYXRhL2dlbiIKaW1wb3J0IEpTT05WVUUgZnJvbSAnLi9KU09OLnZ1ZScKaW1wb3J0IHVuZG9SZWRvIGZyb20gImN5dG9zY2FwZS11bmRvLXJlZG8iOwoKaW1wb3J0IGRhdGFHZW4gZnJvbSAnLi4vdGVzdF9kYXRhL2RhdGFfbG93ZXMuanNvbicKY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpLmRlZmF1bHQKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3l0b3NjYXBlR3JhcGgiLAogIG15SnNvbjogTVlfSlNPTiwKICBqc29uVnVlOiBKU09OVlVFLAogIHByb3BzOiB7CiAgICBtc2c6IFN0cmluZywKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjeUluc3RhbmNlKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy5jeS5pbnN0YW5jZTsKICAgIH0sCiAgICAvLyBkYXRhKCkgewogICAgLy8gICBjb25zdCBub2RlUyA9IHNlbGVjdGVkTm9kZS5zdGF0ZS5ub2RlCiAgICAvLyAgIHJldHVybiBbbm9kZVNdCiAgICAvLyB9LAogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuewogICAgICAgIG5vZGVTOiBbCiAgICAgICAgICBzZWxlY3RlZE5vZGUuc3RhdGUubm9kZSwKICAgICAgICBdLAogICAgICAgIGdlbjoge1N0b3JlOiAiMSJ9LAogICAgICAgIHZhbHVlOiBzZWxlY3RlZE5vZGUuc3RhdGUuYW1vdW50CiAgICAgIH0KICAgIH0sCiAgICBlbGVtZW50cygpIHsKICAgICAgY29uc3Qgbm9kZXMgPSBqc29uRGF0YS5zdGF0ZS5qc29uLm5vZGVzOwogICAgICBjb25zb2xlLmxvZygiRUxFUyIpOwogICAgICBjb25zb2xlLmxvZyhub2Rlcyk7CiAgICAgIGNvbnN0IGVkZ2VzID0ganNvbkRhdGEuc3RhdGUuanNvbi5lZGdlczsKICAgICAgcmV0dXJuIFsuLi5ub2RlcywgLi4uZWRnZXNdOwogICAgfSwKICAgIGNvbmZpZygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBlZGl0OiAnJywKICAgICAgICBib3hTZWxlY3Rpb25FbmFibGVkOiBmYWxzZSwKICAgICAgICBzdHlsZTogWwogICAgICAgICAgewogICAgICAgICAgICBzZWxlY3RvcjogIm5vZGVbbmFtZV0iLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICdjb250ZW50JzogJ2RhdGEobmFtZSknLAogICAgICAgICAgICAgICd0ZXh0LXZhbGlnbic6ICdjZW50ZXInLAogICAgICAgICAgICAgICd0ZXh0LWhhbGlnbic6ICdjZW50ZXInCiAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHNlbGVjdG9yOiAnOnBhcmVudCcsCiAgICAgICAgICAgIGNzczogewogICAgICAgICAgICAgICd0ZXh0LXZhbGlnbic6ICdjZW50ZXInLAogICAgICAgICAgICAgICd0ZXh0LWhhbGlnbic6ICdjZW50ZXInLAogICAgICAgICAgICB9CiAgICAgICAgICB9LAoKICAgICAgICAgIHsKICAgICAgICAgICAgc2VsZWN0b3I6ICc6c2VsZWN0ZWQnLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ2JsdWUnLAogICAgICAgICAgICB9CiAgICAgICAgICB9LAoKICAgICAgICAgIHsKICAgICAgICAgICAgc2VsZWN0b3I6ICdlZGdlJywKICAgICAgICAgICAgY3NzOiB7CiAgICAgICAgICAgICAgJ2N1cnZlLXN0eWxlJzogJ2JlemllcicsCiAgICAgICAgICAgICAgJ3RhcmdldC1hcnJvdy1zaGFwZSc6ICd0cmlhbmdsZS10ZWUnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHNlbGVjdG9yOiAnLmVoLWhhbmRsZScsCiAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InOiAncmVkJywKICAgICAgICAgICAgICAnd2lkdGgnOiAxMiwKICAgICAgICAgICAgICAnaGVpZ2h0JzogMTIsCiAgICAgICAgICAgICAgJ3NoYXBlJzogJ2VsbGlwc2UnLAogICAgICAgICAgICAgICdvdmVybGF5LW9wYWNpdHknOiAwLAogICAgICAgICAgICAgICdib3JkZXItd2lkdGgnOiAxMiwgLy8gbWFrZXMgaGFuZGxlIGVhc2llciB0byBoaXQKICAgICAgICAgICAgICAnYm9yZGVyLW9wYWNpdHknOiAwCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHNlbGVjdG9yOiAnLmVoLWhvdmVyJywKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdibHVlJwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBzZWxlY3RvcjogJy5laC1zb3VyY2UnLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICdib3JkZXItd2lkdGgnOiAyLAogICAgICAgICAgICAgICdib3JkZXItY29sb3InOiAnYmx1ZScKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgc2VsZWN0b3I6ICcuZWgtdGFyZ2V0JywKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAnYm9yZGVyLXdpZHRoJzogMiwKICAgICAgICAgICAgICAnYm9yZGVyLWNvbG9yJzogJ2JsdWUnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHNlbGVjdG9yOiAnLmVoLXByZXZpZXcsIC5laC1naG9zdC1lZGdlJywKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAnbGluZS1jb2xvcic6ICdibHVlJywKICAgICAgICAgICAgICAndGFyZ2V0LWFycm93LWNvbG9yJzogJ2JsdWUnLAogICAgICAgICAgICAgICdzb3VyY2UtYXJyb3ctY29sb3InOiAnYmx1ZScKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgc2VsZWN0b3I6ICcuZWgtZ2hvc3QtZWRnZS5laC1wcmV2aWV3LWFjdGl2ZScsCiAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgJ29wYWNpdHknOiAwCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgbGF5b3V0OiB7CiAgICAgICAgICBuYW1lOiAiZGFncmUiLAogICAgICAgIH0sCiAgICAgIH07CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgcHJlQ29uZmlnKGN5dG9zY2FwZSkgewogICAgICBjeXRvc2NhcGUudXNlKGRhZ3JlKTsKICAgICAgY3l0b3NjYXBlLnVzZShjeHRtZW51KTsKICAgICAgY3l0b3NjYXBlLnVzZShlZGdlaGFuZGxlcyk7CiAgICAgIGN5dG9zY2FwZS51c2UobmF2aWdhdG9yKTsKICAgICAgY3l0b3NjYXBlLnVzZShwYW56b29tKTsKICAgICAgY3l0b3NjYXBlLnVzZSh1bmRvUmVkbyk7CiAgICB9LAogICAgb25TdWJtaXQoZXZlbnQpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpCiAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhKQogICAgICAgIGFsZXJ0KEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybSkpCiAgICB9LAogICAgZWRpdEJveChlbGVtZW50KSB7CiAgICAgIGNvbnN0IGggPSB0aGlzLiRjcmVhdGVFbGVtZW50CiAgICAgIGNvbnN0IG1lc3NhZ2VOb2RlID0gaCgnZGl2JywgeyBjbGFzczogWydmb29iYXInXSB9LCBbCiAgICAgICAgaCgnYi1mb3JtJywgJ0hlbGxvJykKICAgICAgXSkKICAgICAgY29uc29sZS5sb2coZWxlbWVudCkKICAgICAgdGhpcy5lZGl0ID0gJycKICAgICAgdGhpcy4kYnZNb2RhbC5tc2dCb3hDb25maXJtKFttZXNzYWdlTm9kZV0pCiAgICAgICAgLnRoZW4odmFsdWUgPT4gewogICAgICAgICAgdGhpcy5lZGl0ID0gdmFsdWUKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgIH0pCiAgICB9LAogICAgc2VsZWN0Tm9kZShub2RlKSB7CiAgICAgIC8vY29uc29sZS5sb2cobm9kZSk7CiAgICAgIHNlbGVjdGVkTm9kZS5jb21taXQoJ2NoYW5nZU5vZGUnLCBub2RlICk7CiAgICB9LAogICAgY2hhbmdlR2VuKHZhbCkgewogICAgICAvL2NvbnNvbGUubG9nKHZhbCk7CiAgICAgIHNlbGVjdGVkTm9kZS5jb21taXQoJ2NoYW5nZUdlbicsIHZhbCApOwogICAgfSwKICAgIHRlc3QoKSB7CiAgICAgIGdldFRoZUZpbGUoKQogICAgfSwKICAgIHJlZHJhdyhjeSkgewogICAgICB2YXIgbXlfbGF5b3V0ID0gY3kubWFrZUxheW91dCh7bmFtZTogJ2RhZ3JlJ30pCiAgICAgIG15X2xheW91dC5ydW4oKQogICAgfSwKICAgIGdlbmVyYXRlRGF0YSh2YWx1ZSl7CiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKQogICAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgIGNvbnNvbGUubG9nKGRhdGFHZW4pCiAgICAgIGNvbnNvbGUubG9nKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgY29uc29sZS5sb2coanNvbkRhdGEuZ2V0dGVycy5nZXROb2RlKQogICAgICAvL2pzb25EYXRhLmNvbW1pdCgnc2F2ZURhdGEnKQogICAgICAKICAgICAgCiAgICAgIGF4aW9zCiAgICAgIC5wb3N0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvZ2V0RGF0YT9ub19zYW1wbGVzPScgKyB2YWx1ZSwganNvbkRhdGEuZ2V0dGVycy5nZXROb2RlKQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coIi0tLS0tLS0tLS0tLS0tLS0tKioqKioqKi0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgc2F2ZUpTT04ocmVzcG9uc2UuZGF0YSwgJ2dlbkRhdGEtJyArIHZhbHVlICsgJy5qc29uJykKICAgICAgICAvL2pzb25EYXRhLmNvbW1pdCgnYWRkRGF0YScsIHJlc3BvbnNlKQogICAgICAgIC8vdGhpcy5nZW4gPSByZXNwb25zZS5kYXRhCiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmdlbikKICAgICAgICAKICAgICAgfSkKICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgfSkKICAgICAgCiAgICB9LAogICAgZGVsZXRlTm9kZShub2RlKSB7CiAgICAgIC8vc2VsZWN0ZWROb2RlLmNvbW1pdCgnY2hhbmdlTm9kZScsIG5vZGUgKTsKICAgICAgY29uc29sZS5sb2coIkRFTEVURSIpCiAgICAgIGNvbnNvbGUubG9nKG5vZGUuaWQpCiAgICAgIC8vdGhpcy5ub2RlUyA9IG51bGwKICAgICAgLy91ci5kbygicmVtb3ZlIiwgc2VsZWN0ZWROb2RlLnN0YXRlLm5vZGUpOwogICAgICBqc29uRGF0YS5jb21taXQoJ3JlbW92ZU5vZGUnLCBub2RlLmlkKQogICAgfSwKICAgIGFkZE5vZGUoZXZlbnQpIHsKICAgICAgY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LCB0aGlzLiRyZWZzLmN5Lmluc3RhbmNlKTsKICAgICAgY29uc29sZS5sb2coZXZlbnQucG9zaXRpb24pOwogICAgCiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuJHJlZnMuY3kuaW5zdGFuY2UpIHsKICAgICAgICBjb25zb2xlLmxvZygiYWRkaW5nIG5vZGUiLCBldmVudC50YXJnZXQpOwogICAgICB9CgogICAgICB2YXIgbm9kZWlkID0gMAogICAgICBub2RlaWQgPSBtYWtlaWQoNSk7CgogICAgICB2YXIgb2JqID0gewogICAgICAgIGRhdGE6IHsiaWQiOiAieF8iICsgbm9kZWlkLCAibmFtZSI6ICJOZXcgTm9kZSIsICJ0eXBlIjogIm5vZGVUeXBlIiwgIm1pbiI6IDAsICJtYXgiOiAwfSwKICAgICAgICBwb3NpdGlvbjogZXZlbnQucG9zaXRpb24KICAgICAgfQoKICAgICAganNvbkRhdGEuY29tbWl0KCdhZGROb2RlJywgb2JqICk7CiAgICAgIHNlbGVjdGVkTm9kZS5jb21taXQoJ2NoYW5nZU5vZGUnLCBvYmouZGF0YSk7CiAgICB9LAogICAgZWRpdE5vZGUoZXZlbnQsIGlkKSB7CiAgICAgIGNvbnN0IGVsZSA9IHRoaXMuZWxlbWVudHMuc29tZSgoZWxlLCBpbmRleCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVsZS5kYXRhLmlkKQogICAgICAgIGNvbnNvbGUubG9nKGlkKQogICAgICAgIGNvbnN0IG1hdGNoID0gZWxlLmRhdGEuaWQgPT0gaWQKICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJJbmRleCIgKyBpbmRleCkKICAgICAgICAgIC8vanNvbkRhdGEuY29tbWl0KCdyZW1vdmVOb2RlJywgZWxlLmlkKCkpCiAgICAgICAgfQogICAgICAgIHJldHVybiBtYXRjaAogICAgICB9KQogICAgICBjb25zb2xlLmxvZyhldmVudCkKICAgIGNvbnNvbGUubG9nKGVsZSkKICAgIH0sCiAgICB1cGRhdGVOb2RlKGV2ZW50KSB7CiAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC5kYXRhKCkubGFiZWwpCiAgICAgIGxldCBsYWJlbCA9IGV2ZW50LnRhcmdldC5kYXRhKCkubGFiZWwKICAgICAgbGFiZWwgKz0gbGFiZWxbMF0KICAgICAgZXZlbnQudGFyZ2V0LmRhdGEoeyBsYWJlbCB9KQogICAgfSwKICAgIGFmdGVyQ3JlYXRlZChjeSkgewoKICAgICAgLy9jeS5tYWtlTGF5b3V0KHtuYW1lOiAnZGFncmUnfSkucnVuKCkKCiAgICAgIGNvbnNvbGUubG9nKCJzZWxlY3RlZE5vZGUiKQogICAgICAvL3ZhciBzZWwgPSBzZWxlY3RlZE5vZGUuZ2V0dGVycy5nZXROb2RlIAogICAgICBjeS5wYW4oe3g6IDMwMCwgeTogMTYwfSkKICAgICAgY3kuem9vbSgyKQoKICAgICAgdmFyIHVyID0gY3kudW5kb1JlZG8oewogICAgICAgICAgICAgICAgICAgIGlzRGVidWc6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgLy9jb25zb2xlLmxvZygiTkVXIEpTT046ICIgKyBqc29uRGF0YS5zdGF0ZS5qc29uLm5vZGVzKQogICAgICAvL2NvbnNvbGUubG9nKCJORVcgVlVFOiAiKQogICAgICAvL2NvbnNvbGUubG9nKGpzb25WdWUpCiAgICAgIC8vY29uc29sZS5sb2coIlZVRVggQ0FMTCBfX19fIDogIiArIHRoaXMuJGpzb25EYXRhKQogICAgICAvL2NvbnNvbGUubG9nKCJPTEQgSlNPTjogIiArIE1ZX0pTT04pCgogICAgICAvL3ZhciBqc29uRmlsZSA9IEpTT04uc3RyaW5naWZ5KGpzb25EYXRhLnN0YXRlKTsKICAgICAgLy92YXIganNvbkZpbGUgPSBKU09OLnN0cmluZ2lmeShqc29uRGF0YS5zdGF0ZS5qc29uKTsKICAgICAgLy92YXIgbGlzdCA9IEpTT04ucGFyc2UoanNvbkZpbGUpOwogICAgICAvLyBjeS5qc29uKHsgZWxlbWVudHM6IGxpc3QgfSk7CiAgICAgIC8vIHZhciBteV9sYXlvdXQgPSBjeS5tYWtlTGF5b3V0KHtuYW1lOiAnZGFncmUnfSk7CiAgICAgIC8vIG15X2xheW91dC5ydW4oKTsKCiAgICAgIC8vIGN5LmN4dG1lbnUoewogICAgICAvLyAgICAgc2VsZWN0b3I6ICdub2RlJywKICAgICAgLy8gICAgIGNvbW1hbmRzOiBbCiAgICAgIC8vICAgICAgIHsKICAgICAgLy8gICAgICAgICBjb250ZW50OiAnRWRpdCBbTi9BXScsCiAgICAgIC8vICAgICAgICAgc2VsZWN0OiBmdW5jdGlvbihlbGUpewogICAgICAvLyAgICAgICAgICAgdmFyIG51bSAKICAgICAgLy8gICAgICAgICAgIHZhciBjdXJyZW50TmFtZSA9IGVsZS5fcHJpdmF0ZS5kYXRhLm5hbWUKICAgICAgLy8gICAgICAgICAgIHZhciBlZGl0TmFtZSA9IHByb21wdCgiUGxlYXNlIGVudGVyIG5hbWUiLCAiTmV3IE5hbWUiKQoKICAgICAgLy8gICAgICAgICAgIGpzb25EYXRhLnN0YXRlLmpzb24ubm9kZXMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHsKICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coIkNIQUdFIE5BTUUgSU5GTzogIiArIGVsZW1lbnQuZGF0YS5uYW1lKQogICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZygiQ0hBR0UgTkFNRSBJTkZPOiAiICsgY3VycmVudE5hbWUpCiAgICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJOVU06ICIgKyBpbmRleCkKICAgICAgLy8gICAgICAgICAgICAgaWYgKGN1cnJlbnROYW1lID09IGVsZW1lbnQuZGF0YS5uYW1lKSB7bnVtID0gaW5kZXh9CiAgICAgIC8vICAgICAgICAgICB9KTsKICAgICAgLy8gICAgICAgICAgIGNvbnNvbGUubG9nKCJDSEFHRSBOVU1CVkVSIElORk86ICIgKyBudW0pCiAgICAgICAgICAgICAgICAKICAgICAgLy8gICAgICAgICAgIGVsZS5kYXRhKCduYW1lJywgZWRpdE5hbWUpOwogICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coZWxlLl9wcml2YXRlLmRhdGEpOwogICAgICAvLyAgICAgICAgICAgdmFyIHBheWxvYWQgPSB7J2tleTEnOiBlZGl0TmFtZSwgImtleTIiOiBudW19CiAgICAgIC8vICAgICAgICAgICBqc29uRGF0YS5jb21taXQoJ2NoYW5nZU5hbWUnLCBwYXlsb2FkICk7CiAgICAgICAgICAgICAgICAKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0sCiAgICAgIC8vICAgICAgIHsKICAgICAgLy8gICAgICAgICBjb250ZW50OiAnRGVsZXRlJywKICAgICAgLy8gICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uKGVsZSl7CiAgICAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyggZWxlICk7CiAgICAgIC8vICAgICAgICAgICAvL2N5LnJlbW92ZSgnIycgKyBlbGUuaWQoKSk7CiAgICAgIC8vICAgICAgICAgICBqc29uRGF0YS5jb21taXQoJ3JlbW92ZU5vZGUnLCBlbGUuaWQoKSkKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0sIAogICAgICAvLyAgICAgICB7CiAgICAgIC8vICAgICAgICAgY29udGVudDogJ09wZW4nLAogICAgICAvLyAgICAgICAgIHNlbGVjdDogZnVuY3Rpb24oZWxlKXsKICAgICAgLy8gICAgICAgICAgIGNvbnNvbGUubG9nKCBlbGUuaWQoKSApOwogICAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coIGVsZS5kYXRhKCduYW1lJykgKTsKICAgICAgLy8gICAgICAgICAgIC8vdGhpcy5idXR0b24oKQogICAgICAvLyAgICAgICAgICAgdGhpcy4kcG9wdXAoJ2FwcGVuZCcsICdmb29iYXInKQogICAgICAvLyAgICAgICAgICAgLy9hbGVydCggIk5hbWU6ICIgKyBlbGUuZGF0YSgnbmFtZScpICArIlxuVHlwZTogIiArIGVsZS5kYXRhKCd0eXBlJykpOwogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgXQogICAgICAvLyAgIH0pOwoKICAgICAgICBjeS5jeHRtZW51KHsKICAgICAgICAgIHNlbGVjdG9yOiAnY29yZScsCiAgICAgICAgICBjb21tYW5kczogWwogICAgICAgICAgICAvLyB7CiAgICAgICAgICAgIC8vICAgY29udGVudDogJ0FkZCBOb2RlJywKICAgICAgICAgICAgLy8gICBzZWxlY3Q6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIC8vICAgICAvLyBUT0RPIG5lZWQgdG8gY2hlY2sgd2hldGhlciB0aGlzIGlzIHVuaXF1ZQogICAgICAgICAgICAvLyAgICAgdmFyIG5vZGVpZCA9IDA7CiAgICAgICAgICAgIC8vICAgICBub2RlaWQgPSBtYWtlaWQoNSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgLy8gICAgIC8vIGdldCBtb3VzZSBwb3NpdGlvbgogICAgICAgICAgICAvLyAgICAgLy8gVE9ETzogbWFrZSBpdCB3b3JrIG9uIHRvdWNoIHNjcmVlbnMKICAgICAgICAgICAgLy8gICAgIHZhciBlID0gd2luZG93LmV2ZW50OwogICAgICAgICAgICAvLyAgICAgdmFyIHBvcyA9IHt4OiBlLm9mZnNldFgsIHk6IGUub2Zmc2V0WX07CiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhwb3MpOwoKICAgICAgICAgICAgLy8gICAgIHZhciBub2RlTmFtZSA9IHByb21wdCgiUGxlYXNlIGVudGVyIG5hbWUiLCAiTm9kZSIpOwogICAgICAgICAgICAvLyAgICAgdmFyIG5vZGVUeXBlID0gcHJvbXB0KCJQbGVhc2UgZW50ZXIgdHlwZSIsICJUeXBlIik7CgogICAgICAgICAgICAvLyAgICAgLy8gY3kuYWRkKHsKICAgICAgICAgICAgLy8gICAgIC8vICAgImdyb3VwIjogIm5vZGVzIiwKICAgICAgICAgICAgLy8gICAgIC8vICAgImRhdGEiOiB7ImlkIjogInhfIiArIG5vZGVpZCwgIm5hbWUiOiBub2RlTmFtZSwgInR5cGUiOiBub2RlVHlwZSwgIm1pbiI6IDAsICJtYXgiOiAwfSwKICAgICAgICAgICAgLy8gICAgIC8vICAgcmVuZGVyZWRQb3NpdGlvbjogcG9zCiAgICAgICAgICAgIC8vICAgICAvLyB9KQoKICAgICAgICAgICAgLy8gICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgIC8vICAgICAgIGRhdGE6IHsiaWQiOiAieF8iICsgbm9kZWlkLCAibmFtZSI6IG5vZGVOYW1lLCAidHlwZSI6IG5vZGVUeXBlLCAibWluIjogMCwgIm1heCI6IDB9LAogICAgICAgICAgICAvLyAgICAgICBwb3NpdGlvbjogcG9zCiAgICAgICAgICAgIC8vICAgICB9CgogICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2cob2JqKTsKCiAgICAgICAgICAgIC8vICAgICAvL3ZhciBwYXlsb2FkID0geydrZXkxJzogb2JqfQogICAgICAgICAgICAvLyAgICAganNvbkRhdGEuY29tbWl0KCdhZGROb2RlJywgb2JqICk7CiAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAvLyB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY29udGVudDogJ1JlZHJhdycsCiAgICAgICAgICAgICAgc2VsZWN0OiBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgdmFyIG15X2xheW91dCA9IGN5Lm1ha2VMYXlvdXQoe25hbWU6ICdkYWdyZSd9KQogICAgICAgICAgICAgICAgbXlfbGF5b3V0LnJ1bigpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY29udGVudDogJ1VuZG8gW04vQV0nLAogICAgICAgICAgICAgIHNlbGVjdDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJVTkRPOiAiKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdXIudW5kbygpOwogICAgICAgICAgICAgICAgLy9lbGVzLnJlc3RvcmUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBjb250ZW50OiAnU2F2ZSBKU09OJywKICAgICAgICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBjeS5yZW1vdmUoJy5laC1oYW5kbGUnKQogICAgICAgICAgICAgICAgc2F2ZUpTT04oY3kuanNvbigpWydlbGVtZW50cyddLCAnZGF0YV9teURhdGEuanNvbicpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICBdCiAgICAgICAgfSk7CgogICAgICBjeS5jeHRtZW51KHsKICAgICAgICAgIHNlbGVjdG9yOiAnZWRnZScsCiAgICAgICAgICBjb21tYW5kczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY29udGVudDogJ0ludmVydCcsCiAgICAgICAgICAgICAgc2VsZWN0OiBmdW5jdGlvbihlbGUpewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGVsZS5kYXRhKCdzb3VyY2UnKSArICctPicgKyBlbGUuZGF0YSgndGFyZ2V0JykgKTsKICAgICAgICAgICAgICAgIHZhciBlbGVfbmV3ID0gZWxlLmNsb25lKCk7CiAgICAgICAgICAgICAgICBlbGVfbmV3LmRhdGEoKS5zb3VyY2UgPSBlbGUuZGF0YSgpLnRhcmdldDsKICAgICAgICAgICAgICAgIGVsZV9uZXcuZGF0YSgpLnRhcmdldCA9IGVsZS5kYXRhKCkuc291cmNlOwogICAgICAgICAgICAgICAgY3kucmVtb3ZlKCcjJyArIGVsZS5pZCgpKTsKICAgICAgICAgICAgICAgIGN5LmFkZChlbGVfbmV3KQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgLy9lbmFibGVkOiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY29udGVudDogJ0RlbGV0ZScsCiAgICAgICAgICAgICAgc2VsZWN0OiBmdW5jdGlvbihlbGUpewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGVsZS5pZCgpICk7CiAgICAgICAgICAgICAgICBjeS5yZW1vdmUoJyMnICsgZWxlLmlkKCkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgXQogICAgICAgIH0pOwoKICAgICAgbGV0IGVoID0gY3kuZWRnZWhhbmRsZXMoewogICAgICAgICAgZW5hYmxlZDogdHJ1ZQogICAgICAgIH0pOyAKCiAgICAgIGlmICh0aGlzLiR0b2dnbGUpIHsKICAgICAgICBlaC5lbmFibGVEcmF3TW9kZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIGVoLmRpc2FibGVEcmF3TW9kZSgpOwogICAgICB9CiAgICAgIC8vZWguZGlzYWJsZURyYXdNb2RlKCk7CiAgICAgIAogICAgICAvL2VoLmVuYWJsZSgpOwoKICAgICAgLy8gY3kub24oJ2Voc3RhcnQnLCAoZXZlbnQsIHNvdXJjZU5vZGUpID0+IHsKICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCJIT1ZFUjogIiArIGV2ZW50LnBvc2lzdGlvbik7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZygiSE9WRVI6ICIgKyBzb3VyY2VOb2RlKTsKICAgICAgLy8gfSk7CgogICAgICBjb25zb2xlLmxvZyhlaCk7CgogICAgICBjeS5uYXZpZ2F0b3IoewogICAgICAgICAgY29udGFpbmVyOiBmYWxzZSwgCiAgICAgICAgICB2aWV3TGl2ZUZyYW1lcmF0ZTogMCwgCiAgICAgICAgICB0aHVtYm5haWxFdmVudEZyYW1lcmF0ZTogMzAsIAogICAgICAgICAgdGh1bWJuYWlsTGl2ZUZyYW1lcmF0ZTogZmFsc2UsIAogICAgICAgICAgZGJsQ2xpY2tEZWxheTogMjAwLCAKICAgICAgICAgIHJlbW92ZUN1c3RvbUNvbnRhaW5lcjogdHJ1ZSwgCiAgICAgICAgICByZXJlbmRlckRlbGF5OiAxMDAgICAgICAgCiAgICAgICAgfSk7CgogICAgICBjeS5wYW56b29tKHsKICAgICAgICB6b29tRmFjdG9yOiAwLjA1LCAvLyB6b29tIGZhY3RvciBwZXIgem9vbSB0aWNrCiAgICAgICAgem9vbURlbGF5OiA0NSwgLy8gaG93IG1hbnkgbXMgYmV0d2VlbiB6b29tIHRpY2tzCiAgICAgICAgbWluWm9vbTogMC4xLCAvLyBtaW4gem9vbSBsZXZlbAogICAgICAgIG1heFpvb206IDEwLCAvLyBtYXggem9vbSBsZXZlbAogICAgICAgIGZpdFBhZGRpbmc6IDUwLCAvLyBwYWRkaW5nIHdoZW4gZml0dGluZwogICAgICAgIHBhblNwZWVkOiAxMCwgLy8gaG93IG1hbnkgbXMgaW4gYmV0d2VlbiBwYW4gdGlja3MKICAgICAgICBwYW5EaXN0YW5jZTogMTAsIC8vIG1heCBwYW4gZGlzdGFuY2UgcGVyIHRpY2sKICAgICAgICBwYW5EcmFnQXJlYVNpemU6IDc1LCAvLyB0aGUgbGVuZ3RoIG9mIHRoZSBwYW4gZHJhZyBib3ggaW4gd2hpY2ggdGhlIHZlY3RvciBmb3IgcGFubmluZyBpcyBjYWxjdWxhdGVkIChiaWdnZXIgPSBmaW5lciBjb250cm9sIG9mIHBhbiBzcGVlZCBhbmQgZGlyZWN0aW9uKQogICAgICAgIHBhbk1pblBlcmNlbnRTcGVlZDogMC4yNSwgLy8gdGhlIHNsb3dlc3Qgc3BlZWQgd2UgY2FuIHBhbiBieSAoYXMgYSBwZXJjZW50IG9mIHBhblNwZWVkKQogICAgICAgIHBhbkluYWN0aXZlQXJlYTogOCwgLy8gcmFkaXVzIG9mIGluYWN0aXZlIGFyZWEgaW4gcGFuIGRyYWcgYm94CiAgICAgICAgcGFuSW5kaWNhdG9yTWluT3BhY2l0eTogMC41LCAvLyBtaW4gb3BhY2l0eSBvZiBwYW4gaW5kaWNhdG9yICh0aGUgZHJhZ2dhYmxlIG5pYik7IHNjYWxlcyBmcm9tIHRoaXMgdG8gMS4wCiAgICAgICAgem9vbU9ubHk6IGZhbHNlLCAvLyBhIG1pbmltYWwgdmVyc2lvbiBvZiB0aGUgdWkgb25seSB3aXRoIHpvb21pbmcgKHVzZWZ1bCBvbiBzeXN0ZW1zIHdpdGggYmFkIG1vdXNld2hlZWwgcmVzb2x1dGlvbikKICAgICAgICBmaXRTZWxlY3RvcjogdW5kZWZpbmVkLCAvLyBzZWxlY3RvciBvZiBlbGVtZW50cyB0byBmaXQKICAgICAgICBhbmltYXRlT25GaXQ6IGZ1bmN0aW9uKCl7IC8vIHdoZXRoZXIgdG8gYW5pbWF0ZSBvbiBmaXQKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAogICAgICAgIGZpdEFuaW1hdGlvbkR1cmF0aW9uOiAxMDAwLCAvLyBkdXJhdGlvbiBvZiBhbmltYXRpb24gb24gZml0CgogICAgICAgIC8vIGljb24gY2xhc3MgbmFtZXMKICAgICAgICBzbGlkZXJIYW5kbGVJY29uOiAnZmEgZmEtbWludXMnLAogICAgICAgIHpvb21Jbkljb246ICdmYSBmYS1wbHVzJywKICAgICAgICB6b29tT3V0SWNvbjogJ2ZhIGZhLW1pbnVzJywKICAgICAgICByZXNldEljb246ICdmYSBmYS1leHBhbmQnCiAgICAgICAgfSk7IAoKICAgICAgaW1wb3NlQ29uc3RyYWludHMoY3kpOwoKICAgICAgLy90aGlzLmN5SW5zdGFuY2UubWFrZUxheW91dCh7IG5hbWU6ICJkYWdyZSIgfSkucnVuKCk7CiAgICB9LAogIH0sCn07Cgpjb25zdCBwaWNrZXJPcHRzID0gewogIHR5cGVzOiBbCiAgICB7CiAgICAgIGRlc2NyaXB0aW9uOiAnSlNPTicsCiAgICAgIGFjY2VwdDogewogICAgICAgICdKU09OLyonOiBbJy5qc29uJ10KICAgICAgfQogICAgfSwKICBdLAogIGV4Y2x1ZGVBY2NlcHRBbGxPcHRpb246IHRydWUsCiAgbXVsdGlwbGU6IGZhbHNlCn07Cgphc3luYyBmdW5jdGlvbiBnZXRUaGVGaWxlKCkgewogIC8vIG9wZW4gZmlsZSBwaWNrZXIKICB2YXIgZmlsZUhhbmRsZSA9IG51bGw7CiAgW2ZpbGVIYW5kbGVdID0gYXdhaXQgd2luZG93LnNob3dPcGVuRmlsZVBpY2tlcihwaWNrZXJPcHRzKTsKICBjb25zb2xlLmxvZyhmaWxlSGFuZGxlKTsKCiAgLy8gZ2V0IGZpbGUgY29udGVudHMKICBjb25zdCBmaWxlRGF0YSA9IGF3YWl0IGZpbGVIYW5kbGUuZ2V0RmlsZSgpOwogIGNvbnNvbGUubG9nKCJGSUxFIERBVEE6ICIgKyBmaWxlRGF0YS5uYW1lKTsKCiAganNvbkRhdGEuY29tbWl0KCdjaGFuZ2VKU09OJywgZmlsZURhdGEpCiAgLy9sb2FkRmlsZSgidGVzdF9kYXRhLyIgKyBmaWxlRGF0YS5uYW1lKTsKfQoKCi8vanNvbkRhdGEuY29tbWl0KCdhZGROb2RlJywgb2JqICk7CgovL3NyY1x0ZXN0X2RhdGFcZGF0YV90ZXN0Lmpzb24KLy9DOlxVc2Vyc1xMdWNhcyBEaWNrc29uXERvd25sb2Fkc1xkYXRhLXRvb2xzLXZ1ZVxzcmNcdGVzdF9kYXRhXGRhdGFfdGVzdC5qc29uCgoKLy8gZnVuY3Rpb24gbG9hZEZpbGUoZmlsZW5hbWUsIGN5KSB7Ci8vICAgLy8gdXNpbmcgUHJvbWlzZQovLyAgIGZldGNoKGZpbGVuYW1lLCB7Ci8vICAgICAgIGhlYWRlcnMgOiB7IAovLyAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCi8vICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJwovLyAgICAgICAgfQovLyAgICAgfSkKLy8gICAgIC50aGVuKHJlc3BvbnNlID0+IHsKLy8gICAgICAgY29uc29sZS5sb2coIkhFTFAiICsgcmVzcG9uc2UpOwovLyAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwovLyAgICAgfSkKLy8gICAgIC50aGVuKHBhcnNlZCA9PiB7Ci8vICAgICAgIGNvbnNvbGUubG9nKCJEQVRBIiArIHBhcnNlZCk7Ci8vICAgICAgIGN5Lmpzb24oeyBlbGVtZW50czogcGFyc2VkIH0pOwovLyAgICAgICB2YXIgbXlfbGF5b3V0ID0gY3kubWFrZUxheW91dCh7bmFtZTogJ2RhZ3JlJ30pOwovLyAgICAgICBteV9sYXlvdXQucnVuKCk7Ci8vICAgICB9KQovLyAgICAgLmNhdGNoKGVyciA9PiB7Ci8vICAgICAgIGNvbnNvbGUubG9nKCJFUlJPUiIgKyBlcnIpOwovLyAgICAgfSkKLy8gfQoKLy8gZnVuY3Rpb24gZ2V0VVJMUGFyYW1ldGVyKG5hbWUpIHsKLy8gICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KChuZXcgUmVnRXhwKCdbP3wmXScgKyBuYW1lICsgJz0nICsgJyhbXiY7XSs/KSgmfCN8O3wkKScpLmV4ZWMobG9jYXRpb24uc2VhcmNoKSB8fCBbbnVsbCwgJyddKVsxXS5yZXBsYWNlKC9cKy9nLCAnJTIwJykpIHx8IG51bGw7Ci8vIH0KCmZ1bmN0aW9uIGltcG9zZUNvbnN0cmFpbnRzKGN5KSB7CiAgY3kub24oJ2FkZCcsICdlZGdlJywgZnVuY3Rpb24oZXZ0KXsKICAgIHZhciBlZGdlID0gZXZ0LnRhcmdldDsKICAgIHZhciBhbGxfZWRnZXMgPSBjeS5lZGdlcygiW3NvdXJjZSA9ICciICsgZWRnZS5zb3VyY2UoKS5pZCgpKyInXVt0YXJnZXQgPSAnIiArIGVkZ2UudGFyZ2V0KCkuaWQoKSArICInXSIpOwoKICAgIGlmIChhbGxfZWRnZXMubGVuZ3RoID49IDIpIHsKICAgICAgY3kucmVtb3ZlKCcjJyArIGVkZ2UuaWQoKSk7CiAgICB9CgogICAgLy8gaWYgd2FudCB0byBhbGxvdyBiaS1kaXJlY3Rpb25hbGl0eSBjb21tZW50IHRoZXNlIGxpbmVzCiAgICB2YXIgYWxsX2VkZ2VzX2ludmVydCA9IGN5LmVkZ2VzKCJbdGFyZ2V0ID0gJyIgKyBlZGdlLnNvdXJjZSgpLmlkKCkrIiddW3NvdXJjZSA9ICciICsgZWRnZS50YXJnZXQoKS5pZCgpICsgIiddIik7CgogICAgaWYgKGFsbF9lZGdlc19pbnZlcnQubGVuZ3RoID49IDEpIHsKICAgICAgY3kucmVtb3ZlKCcjJyArIGVkZ2UuaWQoKSk7CiAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIHNhdmVKU09OKGRhdGEsIGZpbGVuYW1lKXsKICAgIGlmKCFkYXRhKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignTm8gZGF0YScpCiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYoIWZpbGVuYW1lKSBmaWxlbmFtZSA9ICdjb25zb2xlLmpzb24nCgogICAgaWYodHlwZW9mIGRhdGEgPT09ICJvYmplY3QiKXsKICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgdW5kZWZpbmVkLCA0KQogICAgfQogICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbZGF0YV0sIHt0eXBlOiAndGV4dC9qc29uJ30pLAogICAgICAgIGUgICAgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKSwKICAgICAgICBhICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpCgogICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lCiAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKQogICAgYS5kYXRhc2V0LmRvd25sb2FkdXJsID0gIFsndGV4dC9qc29uJywgYS5kb3dubG9hZCwgYS5ocmVmXS5qb2luKCc6JykKICAgIGUuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgdHJ1ZSwgZmFsc2UsIHdpbmRvdywgMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpCiAgICBhLmRpc3BhdGNoRXZlbnQoZSkKfQoKZnVuY3Rpb24gbWFrZWlkKGxlbmd0aCkgewogIHZhciByZXN1bHQgICAgICAgICAgID0gJyc7CiAgdmFyIGNoYXJhY3RlcnMgICAgICAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknOwogIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7CiAgZm9yICggdmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKysgKSB7CiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogCiAgICBjaGFyYWN0ZXJzTGVuZ3RoKSk7CiAgfQogIHJldHVybiByZXN1bHQ7Cn0K"},{"version":3,"sources":["CytoscapeGraph.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CytoscapeGraph.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"graph-container\">\n    <!-- \n   <p> Selected Node: {{ data.nodeS }} </p> \n   <p> Selected Node: {{ data.value }} </p> \n-->\n<b-container class=\"bv-example-row\">\n  <b-row>\n    <b-col>\n      <cytoscape\n      ref=\"cy\"\n      class=\"cy-graph\"\n      :preConfig=\"preConfig\"\n      :config=\"config\"\n      :afterCreated=\"afterCreated\"\n      v-on:cxttapend=\"addNode\"\n      >\n      <cy-element\n        v-for=\"element in elements\"\n        :definition=\"element\"\n        :key=\"`${element.data.id}`\"\n        :sync=\"true\"\n        v-on:mousedown=\"selectNode(element.data)\"\n      > \n      </cy-element>\n    </cytoscape>\n    </b-col>\n\n    <b-col col lg=\"2\">\n      <div>\n        <b-button block v-b-toggle.collapse-1 variant=\"primary\">Toggle Edit Menu</b-button>\n          <b-collapse id=\"collapse-1\" class=\"mt-2\" visible>\n            <b-form @submit=\"onSubmit\">\n            <label class=\"sr-only\" for=\"inline-form-input-name\">Node Name </label>\n\n    <b-form-input\n      id=\"inline-form-input-name\"\n      v-model=\"data.nodeS[0].name\"\n      class=\"mb-2 mr-sm-2 mb-sm-0\"\n      :placeholder=\"data.nodeS[0].name.toString()\"\n    ></b-form-input>\n\n    <b-form-group label=\"Node Type\" v-slot=\"{ ariaDescribedby }\">\n      <b-form-radio-group\n        id=\"radio-group-2\"\n        v-model=\"data.nodeS[0].type\" \n        :aria-describedby=\"ariaDescribedby\"\n        name=\"radio-sub-component\"\n      >\n        <b-form-radio v-model=\"data.nodeS[0].type\" :aria-describedby=\"ariaDescribedby\" :name=\" data.nodeS[0].type\" value=\"Discrete\"> Discrete</b-form-radio>\n        <b-form-radio v-model=\"data.nodeS[0].type\" :aria-describedby=\"ariaDescribedby\" :name=\" data.nodeS[0].type\" value=\"Continuous\"> Continuous</b-form-radio>\n      </b-form-radio-group>\n    </b-form-group>\n\n    <div v-if=\"data.nodeS[0].type == 'Continuous'\">\n      <label class=\"sr-only\" for=\"inline-form-input-name\">Min</label>\n      <b-form-input\n        id=\"inline-form-input-name\"\n        v-model=\"data.nodeS[0].min\"\n        class=\"mb-2 mr-sm-2 mb-sm-0\"\n        :placeholder=\"data.nodeS[0].min.toString()\"\n      ></b-form-input>\n\n      <label class=\"sr-only\" for=\"inline-form-input-name\">Max</label>\n      <b-form-input\n        id=\"inline-form-input-name\"\n        v-model=\"data.nodeS[0].max\"\n        class=\"mb-2 mr-sm-2 mb-sm-0\"\n        :placeholder=\"data.nodeS[0].max.toString()\"\n      ></b-form-input>\n    </div>\n\n    <div v-else> \n      <label class=\"sr-only\" for=\"inline-form-input-name\">Level</label>\n      <b-form-input\n        id=\"inline-form-input-name\"\n        v-model=\"data.nodeS[0].min\"\n        class=\"mb-2 mr-sm-2 mb-sm-0\"\n        :placeholder=\"data.nodeS[0].min.toString()\"\n      ></b-form-input>\n    </div>\n\n          </b-form>\n\n\n          <p></p>\n\n          <b-button variant=\"danger\" v-on:click=\"deleteNode(data.nodeS[0])\">Delete Node</b-button>\n        </b-collapse>\n      </div>\n    </b-col>\n  </b-row>\n</b-container>\n\n    <label for=\"range-2\">Generate Data From Graph</label>\n    <b-form-input id=\"range-2\" v-model=\"data.value\" v-on:click=\"changeGen(data.value)\" type=\"range\" min=\"50\" max=\"500\" step=\"50\" debounce=\"500\"></b-form-input>\n    <div class=\"mt-2\">Amount: {{ data.value }}</div>\n    \n    <b-button variant=\"success\"  v-on:click=\"generateData(data.value)\">Generate Data</b-button>\n<p></p>\n<b-button  v-on:click=\"test()\" variant=\"primary\"> Change JSON </b-button>\n    \n</div>\n</template>\n\n<script>\nimport dagre from \"cytoscape-dagre\";\nimport cxtmenu from \"cytoscape-cxtmenu\";\nimport edgehandles from \"cytoscape-edgehandles\";\nimport navigator from \"cytoscape-navigator\";\nimport panzoom from \"cytoscape-panzoom\";\nimport MY_JSON from '../test_data/data_lowes.json';\nimport { jsonData } from \"../data/data\"\nimport { selectedNode } from \"../data/selected\"\n//import { gen } from \"../data/gen\"\nimport JSONVUE from './JSON.vue'\nimport undoRedo from \"cytoscape-undo-redo\";\n\nimport dataGen from '../test_data/data_lowes.json'\nconst axios = require('axios').default\n\nexport default {\n  name: \"CytoscapeGraph\",\n  myJson: MY_JSON,\n  jsonVue: JSONVUE,\n  props: {\n    msg: String,\n  },\n  computed: {\n    cyInstance() {\n      return this.$refs.cy.instance;\n    },\n    // data() {\n    //   const nodeS = selectedNode.state.node\n    //   return [nodeS]\n    // },\n    data() {\n      return{\n        nodeS: [\n          selectedNode.state.node,\n        ],\n        gen: {Store: \"1\"},\n        value: selectedNode.state.amount\n      }\n    },\n    elements() {\n      const nodes = jsonData.state.json.nodes;\n      console.log(\"ELES\");\n      console.log(nodes);\n      const edges = jsonData.state.json.edges;\n      return [...nodes, ...edges];\n    },\n    config() {\n      return {\n        edit: '',\n        boxSelectionEnabled: false,\n        style: [\n          {\n            selector: \"node[name]\",\n            style: {\n              'content': 'data(name)',\n              'text-valign': 'center',\n              'text-halign': 'center'\n              \n            }\n          },\n          {\n            selector: ':parent',\n            css: {\n              'text-valign': 'center',\n              'text-halign': 'center',\n            }\n          },\n\n          {\n            selector: ':selected',\n            style: {\n              'background-color': 'blue',\n            }\n          },\n\n          {\n            selector: 'edge',\n            css: {\n              'curve-style': 'bezier',\n              'target-arrow-shape': 'triangle-tee'\n            }\n          },\n          {\n            selector: '.eh-handle',\n            style: {\n              'background-color': 'red',\n              'width': 12,\n              'height': 12,\n              'shape': 'ellipse',\n              'overlay-opacity': 0,\n              'border-width': 12, // makes handle easier to hit\n              'border-opacity': 0\n            }\n          },\n          {\n            selector: '.eh-hover',\n            style: {\n              'background-color': 'blue'\n            }\n          },\n          {\n            selector: '.eh-source',\n            style: {\n              'border-width': 2,\n              'border-color': 'blue'\n            }\n          },\n          {\n            selector: '.eh-target',\n            style: {\n              'border-width': 2,\n              'border-color': 'blue'\n            }\n          },\n          {\n            selector: '.eh-preview, .eh-ghost-edge',\n            style: {\n              'line-color': 'blue',\n              'target-arrow-color': 'blue',\n              'source-arrow-color': 'blue'\n            }\n          },\n          {\n            selector: '.eh-ghost-edge.eh-preview-active',\n            style: {\n              'opacity': 0\n          }\n        }\n        ],\n        layout: {\n          name: \"dagre\",\n        },\n      };\n    },\n  },\n  methods: {\n    preConfig(cytoscape) {\n      cytoscape.use(dagre);\n      cytoscape.use(cxtmenu);\n      cytoscape.use(edgehandles);\n      cytoscape.use(navigator);\n      cytoscape.use(panzoom);\n      cytoscape.use(undoRedo);\n    },\n    onSubmit(event) {\n        event.preventDefault()\n        console.log(this.data)\n        alert(JSON.stringify(this.form))\n    },\n    editBox(element) {\n      const h = this.$createElement\n      const messageNode = h('div', { class: ['foobar'] }, [\n        h('b-form', 'Hello')\n      ])\n      console.log(element)\n      this.edit = ''\n      this.$bvModal.msgBoxConfirm([messageNode])\n        .then(value => {\n          this.edit = value\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    },\n    selectNode(node) {\n      //console.log(node);\n      selectedNode.commit('changeNode', node );\n    },\n    changeGen(val) {\n      //console.log(val);\n      selectedNode.commit('changeGen', val );\n    },\n    test() {\n      getTheFile()\n    },\n    redraw(cy) {\n      var my_layout = cy.makeLayout({name: 'dagre'})\n      my_layout.run()\n    },\n    generateData(value){\n      console.log(value)\n      console.log(\"-------------------------------------\")\n      console.log(dataGen)\n      console.log(\"-------------------------------------\")\n      console.log(jsonData.getters.getNode)\n      //jsonData.commit('saveData')\n      \n      \n      axios\n      .post('http://127.0.0.1:8000/getData?no_samples=' + value, jsonData.getters.getNode)\n      .then(response => {\n        console.log(\"-----------------*******--------------------\")\n        console.log(response)\n        //console.log(response.data)\n        saveJSON(response.data, 'genData-' + value + '.json')\n        //jsonData.commit('addData', response)\n        //this.gen = response.data\n        //console.log(this.gen)\n        \n      })\n      .catch(error => {\n        console.log(error)\n      })\n      \n    },\n    deleteNode(node) {\n      //selectedNode.commit('changeNode', node );\n      console.log(\"DELETE\")\n      console.log(node.id)\n      //this.nodeS = null\n      //ur.do(\"remove\", selectedNode.state.node);\n      jsonData.commit('removeNode', node.id)\n    },\n    addNode(event) {\n      console.log(event.target, this.$refs.cy.instance);\n      console.log(event.position);\n    \n      if (event.target === this.$refs.cy.instance) {\n        console.log(\"adding node\", event.target);\n      }\n\n      var nodeid = 0\n      nodeid = makeid(5);\n\n      var obj = {\n        data: {\"id\": \"x_\" + nodeid, \"name\": \"New Node\", \"type\": \"nodeType\", \"min\": 0, \"max\": 0},\n        position: event.position\n      }\n\n      jsonData.commit('addNode', obj );\n      selectedNode.commit('changeNode', obj.data);\n    },\n    editNode(event, id) {\n      const ele = this.elements.some((ele, index) => {\n        console.log(ele.data.id)\n        console.log(id)\n        const match = ele.data.id == id\n        if (match) {\n          console.log(\"Index\" + index)\n          //jsonData.commit('removeNode', ele.id())\n        }\n        return match\n      })\n      console.log(event)\n    console.log(ele)\n    },\n    updateNode(event) {\n      console.log(event.target.data().label)\n      let label = event.target.data().label\n      label += label[0]\n      event.target.data({ label })\n    },\n    afterCreated(cy) {\n\n      //cy.makeLayout({name: 'dagre'}).run()\n\n      console.log(\"selectedNode\")\n      //var sel = selectedNode.getters.getNode \n      cy.pan({x: 300, y: 160})\n      cy.zoom(2)\n\n      var ur = cy.undoRedo({\n                    isDebug: true\n                });\n\n      //console.log(\"NEW JSON: \" + jsonData.state.json.nodes)\n      //console.log(\"NEW VUE: \")\n      //console.log(jsonVue)\n      //console.log(\"VUEX CALL ____ : \" + this.$jsonData)\n      //console.log(\"OLD JSON: \" + MY_JSON)\n\n      //var jsonFile = JSON.stringify(jsonData.state);\n      //var jsonFile = JSON.stringify(jsonData.state.json);\n      //var list = JSON.parse(jsonFile);\n      // cy.json({ elements: list });\n      // var my_layout = cy.makeLayout({name: 'dagre'});\n      // my_layout.run();\n\n      // cy.cxtmenu({\n      //     selector: 'node',\n      //     commands: [\n      //       {\n      //         content: 'Edit [N/A]',\n      //         select: function(ele){\n      //           var num \n      //           var currentName = ele._private.data.name\n      //           var editName = prompt(\"Please enter name\", \"New Name\")\n\n      //           jsonData.state.json.nodes.forEach((element, index) => {\n      //             console.log(\"CHAGE NAME INFO: \" + element.data.name)\n      //             console.log(\"CHAGE NAME INFO: \" + currentName)\n      //             console.log(\"NUM: \" + index)\n      //             if (currentName == element.data.name) {num = index}\n      //           });\n      //           console.log(\"CHAGE NUMBVER INFO: \" + num)\n                \n      //           ele.data('name', editName);\n      //           console.log(ele._private.data);\n      //           var payload = {'key1': editName, \"key2\": num}\n      //           jsonData.commit('changeName', payload );\n                \n      //         }\n      //       },\n      //       {\n      //         content: 'Delete',\n      //         select: function(ele){\n      //           console.log( ele );\n      //           //cy.remove('#' + ele.id());\n      //           jsonData.commit('removeNode', ele.id())\n      //         }\n      //       }, \n      //       {\n      //         content: 'Open',\n      //         select: function(ele){\n      //           console.log( ele.id() );\n      //           console.log( ele.data('name') );\n      //           //this.button()\n      //           this.$popup('append', 'foobar')\n      //           //alert( \"Name: \" + ele.data('name')  +\"\\nType: \" + ele.data('type'));\n      //         }\n      //       }\n      //     ]\n      //   });\n\n        cy.cxtmenu({\n          selector: 'core',\n          commands: [\n            // {\n            //   content: 'Add Node',\n            //   select: function(){\n            //     // TODO need to check whether this is unique\n            //     var nodeid = 0;\n            //     nodeid = makeid(5);\n                \n            //     // get mouse position\n            //     // TODO: make it work on touch screens\n            //     var e = window.event;\n            //     var pos = {x: e.offsetX, y: e.offsetY};\n            //     console.log(pos);\n\n            //     var nodeName = prompt(\"Please enter name\", \"Node\");\n            //     var nodeType = prompt(\"Please enter type\", \"Type\");\n\n            //     // cy.add({\n            //     //   \"group\": \"nodes\",\n            //     //   \"data\": {\"id\": \"x_\" + nodeid, \"name\": nodeName, \"type\": nodeType, \"min\": 0, \"max\": 0},\n            //     //   renderedPosition: pos\n            //     // })\n\n            //     var obj = {\n            //       data: {\"id\": \"x_\" + nodeid, \"name\": nodeName, \"type\": nodeType, \"min\": 0, \"max\": 0},\n            //       position: pos\n            //     }\n\n            //     console.log(obj);\n\n            //     //var payload = {'key1': obj}\n            //     jsonData.commit('addNode', obj );\n            //   }\n            // },\n            {\n              content: 'Redraw',\n              select: function(){\n                var my_layout = cy.makeLayout({name: 'dagre'})\n                my_layout.run()\n              }\n            },\n            {\n              content: 'Undo [N/A]',\n              select: function(){\n                console.log(\"UNDO: \");\n                console.log(ur);\n                \n                ur.undo();\n                //eles.restore();\n              }\n            },\n            {\n              content: 'Save JSON',\n              select: function(){\n                cy.remove('.eh-handle')\n                saveJSON(cy.json()['elements'], 'data_myData.json')\n              }\n            }\n          ]\n        });\n\n      cy.cxtmenu({\n          selector: 'edge',\n          commands: [\n            {\n              content: 'Invert',\n              select: function(ele){\n                console.log( ele.data('source') + '->' + ele.data('target') );\n                var ele_new = ele.clone();\n                ele_new.data().source = ele.data().target;\n                ele_new.data().target = ele.data().source;\n                cy.remove('#' + ele.id());\n                cy.add(ele_new)\n              },\n              //enabled: false\n            },\n            {\n              content: 'Delete',\n              select: function(ele){\n                console.log( ele.id() );\n                cy.remove('#' + ele.id());\n              }\n            }\n          ]\n        });\n\n      let eh = cy.edgehandles({\n          enabled: true\n        }); \n\n      if (this.$toggle) {\n        eh.enableDrawMode();\n      } else {\n        eh.disableDrawMode();\n      }\n      //eh.disableDrawMode();\n      \n      //eh.enable();\n\n      // cy.on('ehstart', (event, sourceNode) => {\n      //     console.log(\"HOVER: \" + event.posistion);\n      //     console.log(\"HOVER: \" + sourceNode);\n      // });\n\n      console.log(eh);\n\n      cy.navigator({\n          container: false, \n          viewLiveFramerate: 0, \n          thumbnailEventFramerate: 30, \n          thumbnailLiveFramerate: false, \n          dblClickDelay: 200, \n          removeCustomContainer: true, \n          rerenderDelay: 100       \n        });\n\n      cy.panzoom({\n        zoomFactor: 0.05, // zoom factor per zoom tick\n        zoomDelay: 45, // how many ms between zoom ticks\n        minZoom: 0.1, // min zoom level\n        maxZoom: 10, // max zoom level\n        fitPadding: 50, // padding when fitting\n        panSpeed: 10, // how many ms in between pan ticks\n        panDistance: 10, // max pan distance per tick\n        panDragAreaSize: 75, // the length of the pan drag box in which the vector for panning is calculated (bigger = finer control of pan speed and direction)\n        panMinPercentSpeed: 0.25, // the slowest speed we can pan by (as a percent of panSpeed)\n        panInactiveArea: 8, // radius of inactive area in pan drag box\n        panIndicatorMinOpacity: 0.5, // min opacity of pan indicator (the draggable nib); scales from this to 1.0\n        zoomOnly: false, // a minimal version of the ui only with zooming (useful on systems with bad mousewheel resolution)\n        fitSelector: undefined, // selector of elements to fit\n        animateOnFit: function(){ // whether to animate on fit\n          return false;\n        },\n        fitAnimationDuration: 1000, // duration of animation on fit\n\n        // icon class names\n        sliderHandleIcon: 'fa fa-minus',\n        zoomInIcon: 'fa fa-plus',\n        zoomOutIcon: 'fa fa-minus',\n        resetIcon: 'fa fa-expand'\n        }); \n\n      imposeConstraints(cy);\n\n      //this.cyInstance.makeLayout({ name: \"dagre\" }).run();\n    },\n  },\n};\n\nconst pickerOpts = {\n  types: [\n    {\n      description: 'JSON',\n      accept: {\n        'JSON/*': ['.json']\n      }\n    },\n  ],\n  excludeAcceptAllOption: true,\n  multiple: false\n};\n\nasync function getTheFile() {\n  // open file picker\n  var fileHandle = null;\n  [fileHandle] = await window.showOpenFilePicker(pickerOpts);\n  console.log(fileHandle);\n\n  // get file contents\n  const fileData = await fileHandle.getFile();\n  console.log(\"FILE DATA: \" + fileData.name);\n\n  jsonData.commit('changeJSON', fileData)\n  //loadFile(\"test_data/\" + fileData.name);\n}\n\n\n//jsonData.commit('addNode', obj );\n\n//src\\test_data\\data_test.json\n//C:\\Users\\Lucas Dickson\\Downloads\\data-tools-vue\\src\\test_data\\data_test.json\n\n\n// function loadFile(filename, cy) {\n//   // using Promise\n//   fetch(filename, {\n//       headers : { \n//         'Content-Type': 'application/json',\n//         'Accept': 'application/json'\n//        }\n//     })\n//     .then(response => {\n//       console.log(\"HELP\" + response);\n//       return response.json();\n//     })\n//     .then(parsed => {\n//       console.log(\"DATA\" + parsed);\n//       cy.json({ elements: parsed });\n//       var my_layout = cy.makeLayout({name: 'dagre'});\n//       my_layout.run();\n//     })\n//     .catch(err => {\n//       console.log(\"ERROR\" + err);\n//     })\n// }\n\n// function getURLParameter(name) {\n//   return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [null, ''])[1].replace(/\\+/g, '%20')) || null;\n// }\n\nfunction imposeConstraints(cy) {\n  cy.on('add', 'edge', function(evt){\n    var edge = evt.target;\n    var all_edges = cy.edges(\"[source = '\" + edge.source().id()+\"'][target = '\" + edge.target().id() + \"']\");\n\n    if (all_edges.length >= 2) {\n      cy.remove('#' + edge.id());\n    }\n\n    // if want to allow bi-directionality comment these lines\n    var all_edges_invert = cy.edges(\"[target = '\" + edge.source().id()+\"'][source = '\" + edge.target().id() + \"']\");\n\n    if (all_edges_invert.length >= 1) {\n      cy.remove('#' + edge.id());\n    }\n  });\n}\n\nfunction saveJSON(data, filename){\n    if(!data) {\n        console.error('No data')\n        return;\n    }\n    if(!filename) filename = 'console.json'\n\n    if(typeof data === \"object\"){\n        data = JSON.stringify(data, undefined, 4)\n    }\n    var blob = new Blob([data], {type: 'text/json'}),\n        e    = document.createEvent('MouseEvents'),\n        a    = document.createElement('a')\n\n    a.download = filename\n    a.href = window.URL.createObjectURL(blob)\n    a.dataset.downloadurl =  ['text/json', a.download, a.href].join(':')\n    e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\n    a.dispatchEvent(e)\n}\n\nfunction makeid(length) {\n  var result           = '';\n  var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var charactersLength = characters.length;\n  for ( var i = 0; i < length; i++ ) {\n    result += characters.charAt(Math.floor(Math.random() * \n    charactersLength));\n  }\n  return result;\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<!-- use ::v-deep and scoped css in real projects -->\n<style lang=\"scss\" >\n#cytoscape-div {\n  height: 100% !important;\n  min-height: unset !important;\n}\n\n.graph-container {\n  font-family: sans-serif;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.cy-graph {\n  height: 600px;\n  width: 100%;\n  background: lightgrey;\n  border: 1px solid blue;\n  display: block;\n}\n</style>\n"]}]}